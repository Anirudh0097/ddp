Version 4
SHEET 1 1904 1204
WIRE 896 -544 768 -544
WIRE 960 -544 896 -544
WIRE 1024 -544 960 -544
WIRE 960 -480 960 -544
WIRE 1024 -432 1024 -544
WIRE 1024 -432 960 -432
WIRE 912 -400 832 -400
WIRE -496 -352 -640 -352
WIRE -16 -352 -496 -352
WIRE 592 -352 -16 -352
WIRE 672 -352 592 -352
WIRE 832 -304 832 -400
WIRE 960 -304 960 -384
WIRE 960 -304 832 -304
WIRE -496 -288 -496 -352
WIRE 592 -288 592 -352
WIRE 960 -272 960 -304
WIRE -432 -208 -448 -208
WIRE 80 -208 -432 -208
WIRE 528 -208 80 -208
WIRE 544 -208 528 -208
WIRE -16 -192 -16 -352
WIRE -496 -144 -496 -192
WIRE -432 -144 -432 -208
WIRE 528 -144 528 -208
WIRE 592 -144 592 -192
WIRE -16 -96 -16 -112
WIRE 1392 -96 1264 -96
WIRE 1504 -96 1392 -96
WIRE -16 -80 -16 -96
WIRE -16 -80 -160 -80
WIRE 144 -80 -16 -80
WIRE 592 -32 592 -144
WIRE 1264 -32 1264 -96
WIRE 1504 -32 1504 -96
WIRE -496 0 -496 -144
WIRE -160 0 -160 -80
WIRE 144 0 144 -80
WIRE 144 16 144 0
WIRE 1344 48 1312 48
WIRE 1456 48 1344 48
WIRE -208 80 -288 80
WIRE 224 80 192 80
WIRE 1024 96 1024 64
WIRE 1024 96 976 96
WIRE 1056 96 1024 96
WIRE 1264 96 1264 64
WIRE 1344 96 1344 48
WIRE 1344 96 1264 96
WIRE 1504 112 1504 64
WIRE 976 128 976 96
WIRE 1056 128 1056 96
WIRE 1264 128 1264 96
WIRE 1504 128 1504 112
WIRE -496 160 -496 0
WIRE -384 160 -432 160
WIRE -160 160 -160 96
WIRE 144 160 144 96
WIRE 528 160 480 160
WIRE 592 160 592 -32
WIRE -496 192 -496 160
WIRE -384 192 -384 160
WIRE 480 192 480 160
WIRE 592 192 592 160
WIRE 1056 208 1056 192
WIRE 1056 208 976 208
WIRE 1216 208 1056 208
WIRE 1616 208 1552 208
WIRE 1664 208 1616 208
WIRE 1056 224 1056 208
WIRE -384 272 -448 272
WIRE -160 272 -160 160
WIRE -160 272 -384 272
WIRE -128 272 -160 272
WIRE -16 272 -64 272
WIRE 32 272 -16 272
WIRE 144 272 144 160
WIRE 144 272 96 272
WIRE 480 272 144 272
WIRE 544 272 480 272
WIRE 1264 272 1264 224
WIRE 1408 272 1264 272
WIRE 1504 272 1504 224
WIRE 1504 272 1408 272
WIRE -160 288 -160 272
WIRE 144 288 144 272
WIRE 976 304 976 288
WIRE 1024 304 976 304
WIRE 1056 304 1056 288
WIRE 1056 304 1024 304
WIRE -1408 320 -1408 192
WIRE 1024 336 1024 304
WIRE -496 368 -496 288
WIRE -16 368 -16 272
WIRE -16 368 -112 368
WIRE 96 368 -16 368
WIRE 592 368 592 288
WIRE -160 416 -160 384
WIRE 0 416 -160 416
WIRE 144 416 144 384
WIRE 144 416 0 416
WIRE 0 432 0 416
WIRE 128 624 48 624
WIRE 208 624 128 624
WIRE 368 624 208 624
WIRE 48 672 48 624
WIRE 208 672 48 672
WIRE 224 672 208 672
WIRE -1248 720 -1264 720
WIRE -1072 720 -1168 720
WIRE -944 752 -976 752
WIRE -816 752 -880 752
WIRE 80 752 -48 752
WIRE 208 752 208 720
WIRE 208 752 80 752
WIRE 432 752 208 752
WIRE -48 800 -48 752
WIRE 432 800 432 752
WIRE -1552 832 -1584 832
WIRE -1408 832 -1472 832
WIRE -1264 832 -1264 720
WIRE -1264 832 -1328 832
WIRE -1072 832 -1072 720
WIRE -976 832 -976 752
WIRE -976 832 -1072 832
WIRE -944 832 -976 832
WIRE -816 832 -816 752
WIRE -816 832 -864 832
WIRE 368 848 368 624
WIRE 368 848 -48 848
WIRE 432 848 368 848
WIRE -1536 880 -1568 880
WIRE -1472 880 -1488 880
WIRE 528 880 480 880
WIRE -1584 896 -1584 832
WIRE -1584 896 -1632 896
WIRE -816 896 -816 832
WIRE 80 912 80 752
WIRE -1584 944 -1584 896
WIRE -1568 944 -1568 880
WIRE -1568 944 -1584 944
WIRE -1552 944 -1568 944
WIRE -1472 944 -1472 880
WIRE -1408 944 -1472 944
WIRE -1264 944 -1328 944
WIRE -976 944 -1072 944
WIRE -944 944 -976 944
WIRE -816 944 -816 896
WIRE -816 944 -864 944
WIRE 432 976 432 896
WIRE -976 992 -976 944
WIRE -928 992 -976 992
WIRE -816 992 -816 944
WIRE -816 992 -864 992
WIRE -1264 1008 -1264 944
WIRE -1248 1008 -1264 1008
WIRE -1072 1008 -1072 944
WIRE -1072 1008 -1168 1008
WIRE -48 1040 -48 896
WIRE 80 1040 80 1008
WIRE 80 1040 -48 1040
WIRE 176 1040 80 1040
WIRE 80 1088 80 1040
WIRE 432 1088 432 976
WIRE 176 1168 176 1040
WIRE 176 1168 128 1168
WIRE 384 1168 176 1168
FLAG 224 80 innegative
IOPIN 224 80 In
FLAG -288 80 inpositive
IOPIN -288 80 In
FLAG -160 160 out1neg
FLAG 144 160 out1pos
FLAG 960 -192 0
FLAG 432 1184 0
FLAG 80 1184 0
FLAG 528 960 0
FLAG 80 1136 0
FLAG 432 1136 0
FLAG 896 -544 Vdd
FLAG 32 992 out1neg
FLAG -96 880 out1pos
FLAG -16 272 cmfb1
FLAG 432 976 cmfb1
FLAG 80 960 Vdd
FLAG 128 624 Vdd
FLAG 256 704 10umirror
FLAG 32 -112 10umirror
FLAG -16 -144 Vdd
FLAG 912 -400 10umirror
FLAG 832 -400 10umirror
FLAG 0 432 0
FLAG 144 336 0
FLAG -160 336 0
FLAG -1408 400 0
FLAG -496 368 0
FLAG 592 368 0
FLAG -1408 192 Vdd
FLAG 80 -208 cfmb2
FLAG 592 -32 Vom
IOPIN 592 -32 Out
FLAG -496 0 Vop
IOPIN -496 0 Out
FLAG -16 -352 Vdd
FLAG -160 48 Vdd
FLAG 144 48 Vdd
FLAG -496 240 0
FLAG 592 240 0
FLAG -496 -240 Vdd
FLAG 592 -240 Vdd
FLAG 1392 -96 Vdd
FLAG 1408 368 0
FLAG 1408 320 0
FLAG 1504 176 0
FLAG 1264 176 0
FLAG 1264 16 Vdd
FLAG 1504 16 Vdd
FLAG 1360 352 cmfb1
FLAG 1504 112 cfmb2
FLAG 1664 288 0
FLAG 1024 64 Vom
IOPIN 1024 64 Out
FLAG 1024 336 Vop
IOPIN 1024 336 Out
FLAG -1264 832 innegative
IOPIN -1264 832 In
FLAG -1264 944 inpositive
IOPIN -1264 944 In
FLAG -1072 832 Vop
IOPIN -1072 832 Out
FLAG -1072 944 Vom
IOPIN -1072 944 Out
FLAG 1616 208 Vbias
FLAG -816 896 Vbias
FLAG -1632 896 Vbias
SYMBOL cmosn -112 288 M0
SYMATTR InstName M3
SYMATTR Value2 l=0.24u w=2u
SYMBOL cmosp -208 0 R0
SYMATTR InstName M1
SYMATTR Value2 l=0.24u w=32u
SYMBOL cmosp 32 -192 M0
SYMATTR InstName M0
SYMATTR Value2 l=0.24u w=64u
SYMBOL cmosp 192 0 M0
SYMATTR InstName M2
SYMATTR Value2 l=0.24u w=32u
SYMBOL cmosn 96 288 R0
SYMATTR InstName M4
SYMATTR Value2 l=0.24u w=2u
SYMBOL cmosp 912 -480 R0
SYMATTR InstName M5
SYMATTR Value2 l=0.24u w=6.4u
SYMBOL current 960 -272 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 ""
SYMATTR SpiceLine ""
SYMATTR InstName I1
SYMATTR Value 10µ
SYMBOL voltage -1408 304 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 ""
SYMATTR SpiceLine ""
SYMATTR InstName V4
SYMATTR Value 1.8
SYMBOL cap -64 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C2
SYMATTR Value 1p
SYMBOL cap 96 256 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C4
SYMATTR Value 1p
SYMBOL cmosp -96 800 R0
SYMATTR InstName Mc1
SYMATTR Value2 l=0.24u w=3.2u
SYMBOL cmosp 32 912 R0
SYMATTR InstName M6
SYMATTR Value2 l=0.24u w=3.2u
SYMBOL cmosp 480 800 M0
SYMATTR InstName Mc2
SYMATTR Value2 l=0.24u w=6.4u
SYMBOL cmosn 128 1088 M0
SYMATTR InstName Mc3
SYMATTR Value2 l=0.24u w=0.4u
SYMBOL cmosn 384 1088 R0
SYMATTR InstName Mc4
SYMATTR Value2 l=0.24u w=0.4u
SYMBOL cmosp 256 624 M0
SYMATTR InstName Mc5
SYMATTR Value2 l=0.24u w=12.8u
SYMBOL voltage 528 864 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 ""
SYMATTR SpiceLine ""
SYMATTR InstName Vcmref1
SYMATTR Value 0.63
SYMBOL cmosn -448 192 M0
SYMATTR InstName M7
SYMATTR Value2 l=0.24u w=4u
SYMBOL cmosp -448 -288 M0
SYMATTR InstName M8
SYMATTR Value2 l=0.24u w=16u
SYMBOL cmosn 544 192 R0
SYMATTR InstName M9
SYMATTR Value2 l=0.24u w=4u
SYMBOL cmosp 544 -288 R0
SYMATTR InstName M10
SYMATTR Value2 l=0.24u w=16u
SYMBOL cap -432 144 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C1
SYMATTR Value 7p
SYMBOL res -368 288 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R1
SYMATTR Value 1k
SYMBOL cap 528 144 M90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C3
SYMATTR Value 7p
SYMBOL res 496 288 R180
WINDOW 0 36 76 Left 2
WINDOW 3 36 40 Left 2
SYMATTR InstName R2
SYMATTR Value 1k
SYMBOL cmosn 1360 272 R0
SYMATTR InstName M11
SYMATTR Value2 l=0.24u w=4u
SYMBOL cmosn 1216 128 R0
SYMATTR InstName M12
SYMATTR Value2 l=0.24u w=2u
SYMBOL cmosn 1552 128 M0
SYMATTR InstName M13
SYMATTR Value2 l=0.24u w=2u
SYMBOL cmosp 1312 -32 M0
SYMATTR InstName M14
SYMATTR Value2 l=0.24u w=8u
SYMBOL cmosp 1456 -32 R0
SYMATTR InstName M15
SYMATTR Value2 l=0.24u w=8u
SYMBOL voltage 1664 192 R0
WINDOW 123 0 0 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 ""
SYMATTR SpiceLine ""
SYMATTR InstName V1
SYMATTR Value 0.9
SYMBOL res 960 112 R0
SYMATTR InstName R3
SYMATTR Value 100k
SYMBOL res 960 192 R0
SYMATTR InstName R4
SYMATTR Value 100k
SYMBOL cap 1040 128 R0
SYMATTR InstName C5
SYMATTR Value 1p
SYMBOL cap 1040 224 R0
SYMATTR InstName C6
SYMATTR Value 1p
SYMBOL voltage -1456 944 M270
WINDOW 123 24 132 Left 2
WINDOW 39 0 0 Left 2
SYMATTR Value2 AC 0.001
SYMATTR SpiceLine ""
SYMATTR InstName V3
SYMATTR Value SINE(0 0.001 100k)
SYMBOL e2 -1456 832 M270
SYMATTR InstName E2
SYMATTR Value 1
SYMBOL res -1312 816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R5
SYMATTR Value 10k
SYMBOL res -1312 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R6
SYMATTR Value 10k
SYMBOL res -1152 992 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R7
SYMATTR Value 30K
SYMATTR SpiceLine ""
SYMBOL res -1152 704 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R8
SYMATTR Value 30K
SYMATTR SpiceLine ""
SYMBOL res -848 816 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R9
SYMATTR Value 5k
SYMBOL res -848 928 R90
WINDOW 0 0 56 VBottom 2
WINDOW 3 32 56 VTop 2
SYMATTR InstName R10
SYMATTR Value 5k
SYMBOL cap -880 736 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C7
SYMATTR Value 5p
SYMBOL cap -864 976 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C8
SYMATTR Value 5p
SYMBOL cap -432 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C9
SYMATTR Value 1p
SYMBOL cap 592 -160 R90
WINDOW 0 0 32 VBottom 2
WINDOW 3 32 32 VTop 2
SYMATTR InstName C10
SYMATTR Value 1p
TEXT 1168 -576 Left 2 !.INCLUDE tsmc018.lib
TEXT 1168 -536 Left 2 !;.INCLUDE opamp.sub
TEXT -1128 -488 Left 2 !.tran 0 10us 0
